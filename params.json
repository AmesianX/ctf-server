{"name":"Ctf-server","tagline":"Capture The Flag Server","body":"ctf-server\r\n=========\r\n\r\nThe server to support capture the flag.\r\n\r\nAuthor\r\n------\r\nAndrew Hood <andrewhood125@gmail.com>\r\n\r\nGetting Started\r\n---------------\r\n- Clone ctf-server.\r\n\r\n```\r\ngit clone http://git.nowaddhero.com/andrewhood125/ctf-server.git\r\n```\r\n- Compile and run the server.\r\n\r\n```\r\ncd ctf-server && make\r\n```\r\n\r\nProtocol\r\n--------\r\nThe CTF Protocol is in JSON. \r\n\r\n#### What the server pushes\r\n###### While a player is in a lobby the server can push...\r\nWhen a player joins a lobby all other players will receive:\r\n\r\n```\r\n{\"ACTION\":\"JOINED\",\"LOCATION\":\"33.0,-90.0\",\"PLAYER\":\"DORITO\",\"TEAM\":\"Blue\",\"BLUETOOTH\":\"12:12:34:56:78:90\"}\r\n```\r\n###### While a player is in a game the server can push...\r\nWhen the game is started\r\n\r\n```\r\n{\"ACTION\":\"START\"}\r\n{\"ACTION\":\"KILL\",\"PLAYER\":\"andrewhood125\"}\r\n```\r\n\r\nWhen a player updates their location\r\n\r\n```\r\n{\"ACTION\":\"GPS\",\"LOCATION\":\"-33.0,-90.0\",\"PLAYER\":\"DORITO\"}\r\n```\r\n#### Actions  \r\n- Action\r\n  - Attribute belonging to action\r\n    - Acceptable values\r\n    - Description\r\n  - Another attribute\r\n    - Acceptable values\r\n    - Description\r\n  - What this command does.\r\n  - When this action can be used.\r\n  - What this action will reply with.\r\n\r\n```\r\n Example of this command being used\r\n```\r\n```\r\nAn example of a reply from the server\r\n```\r\n\r\n- HELLO\r\n  - USERNAME\r\n    - Alphanumeric\r\n    - Used to identify a user in a lobby\r\n  - BLUETOOTH\r\n    - A valid bluetooth mac\r\n    - Sets your users bluetooth mac on the server which is distributed to other players for the game logic.\r\n  - Sets up your user. \r\n  - Upon establishing a connection to the server. Used only once. Greeting someone more than once is... awkward.\r\n  - If you have not yet greeted you will not recieve a response. If you have already greeted than you will recieve info level log.   \r\n  \r\n```\r\n{\r\n  \"ACTION\":\"HELLO\",\r\n  \"USERNAME\":\"andrewhood125\",\r\n  \"BLUETOOTH\":\"10:40:f3:97:2a:33\"\r\n}\r\n```\r\n\r\n- CREATE\r\n  - LOCATION\r\n    - DOUBLE,DOUBLE That is.. lattitude comma longitude.\r\n    - Used to determine the arena boundaries for the lobby you're creating.\r\n  - SIZE\r\n    - Double\r\n    - The distance to the North and South boundaries from your current location. The East and West boundaries will be SIZE*2 away to form the rectangle.\r\n  - Creates a lobby.\r\n  - After you have greeted while you are not in a lobby.\r\n  - Replies with info level log.\r\n\r\n```\r\n{\r\n  \"ACTION\":\"CREATE\",\r\n  \"LOCATION\":\"33.23432423,-89.34232232\",\r\n  \"SIZE\":\"0.2\"\r\n}\r\n```\r\n```\r\n{\"ACTION\":\"LOG\",\"LEVEL\":\"INFO\",\"PAYLOAD\":\"You\\u0027re now in lobby\r\n2C52A\"}\r\n```\r\n- START\r\n  -  Starts the game. \r\n  - When you are in a lobby that you have created with more than 1 player. \r\n  - WHAT DOES START REPLY\r\n  \r\n```\r\n{\r\n  \"ACTION\":\"START\"\r\n}\r\n```\r\n- GPS\r\n  - LOCATION\r\n    - DOUBLE,DOUBLE That is.. lattitude comma longitude.\r\n    - Your updated location.\r\n  - Updates your location.\r\n  - When you are in a lobby.\r\n  - No reply.\r\n\r\n```\r\n{\r\n  \"ACTION\":\"GPS\",\r\n  \"LOCATION\":\"33.23432443,-89.34232232\"\r\n}\r\n\r\n``` \r\n- JOIN\r\n  - LOCATION\r\n    - DOUBLE,DOUBLE That is.. lattitude comma longitude.\r\n    - Your location at the time of joining the lobby.\r\n  - ID\r\n    - 5 Chars [0-9A-F]\r\n    - The ID of the lobby you are trying to join.\r\n  - Joins a lobby.\r\n  - When you have greeted while you are not in a lobby.\r\n  - WHAT DOES JOIN REPLY\r\n\r\n```\r\n{\r\n  \"ACTION\":\"JOIN\",\r\n  \"LOCATION\":\"33.23432423,-89.34232232\",\r\n  \"SIZE\":\"0.2\"\r\n}\r\n```\r\n- LEAVE\r\n  - No attributes\r\n  - Leave the lobby you are currently in.\r\n  - When you are in a lobby.\r\n  - No reply.\r\n\r\n```\r\n{\r\n  \"ACTION\":\"LEAVE\"\r\n}\r\n```\r\n  \r\n- LOBBY\r\n  - No attributes\r\n  - Describe the lobby you are in.\r\n  - When you are in a lobby.\r\n  - Dependant on situation.\r\n\r\n```\r\n{\r\n  \"ACTION\":\"LOBBY\"\r\n}\r\n```\r\n```\r\n{\r\n  \"ACTION\":\"LOBBIES\",\r\n  \"LOBBIES\": [\r\n    {\r\n      \"LOBBY\":\"AB321\",\r\n      \"BLUE\":4,\r\n      \"RED\",3\",\r\n      \"STATE\",1\r\n    },\r\n    {\r\n      \"LOBBY\":\"FFFFF\",\r\n      \"BLUE\":15,\r\n      \"RED\",16\",\r\n      \"STATE\",0\r\n    }\r\n  ]\r\n}\r\n```\r\n- DROP\r\n  - BLUETOOTH\r\n    - A bluetooth mac of a user on the opposite team\r\n    - The mac of a user you heard.\r\n  - Alert the server you are withing range of a user\r\n  - When the game is in progress\r\n  - No reply.\r\n\r\n```\r\n{\r\n  \"ACTION\":\"DROP\",\r\n  \"BLUETOOTH\":\"10:40:f3:97:2a:33\"\r\n}\r\n```\r\n- QUIT\r\n  - Quit is a special case it is just \"QUIT\"! At least for now. \r\n  \r\n\r\nCode Standards\r\n--------------\r\n\r\n- No tabs\r\n- Indent 4 spaces\r\n- Curly braces on new line except for stacked else if else and catch blocks.\r\n\r\n```\r\nif(someCondition)  \r\n{\r\n    // This looks funny in markdown\r\n} else {\r\n    // Other statement\r\n}\r\n\r\ntry\r\n{\r\n    // Something risky\r\n} catch(RiskyException ex) {\r\n    // Save the day\r\n}\r\n```\r\n- Constants at top of class in all caps.\r\n- Class methods Constructors first then alphabetical.\r\n- Imports should be alphabetized.\r\n- Instance variables should be initialized only in the constructor;\r\n- Constants and static variables should be initialized at declaration.\r\n- All instance variables and non static methods  should always be referenced with `this` to  prevent confusion.\r\n- If a class has getters or setters use them.\r\n- Variables within a category {static, instance, constants} should be\r\n  alphabetized.\r\n  \r\nCopyPasta For Easy Server Debugging\r\n-----------------------------------\r\n## User 1\r\n`{\"ACTION\":\"HELLO\",\"USERNAME\":\"andrewhood125\",\"BLUETOOTH\":\"10:40:f3:97:28:9e\"}`\r\n`{\"ACTION\":\"CREATE\",\"LOCATION\":\"35.12109549,-89.93835153\",\"SIZE\":\"0.0007\", \"ACCURACY\":0.00026}`\r\n\r\n## User 2\r\n`{\"ACTION\":\"HELLO\",\"USERNAME\":\"spec-ops81\",\"BLUETOOTH\":\"01:23:45:67:89:ab\"}`\r\n`{\"ACTION\":\"LOBBY\"}`  \r\n`{\"ACTION\":\"JOIN\", \"ID\":\"` `\",\"LOCATION\":\"35.12113808,-89.93849768\"}`\r\n\r\n## User 1\r\n`{\"ACTION\":\"START\"}`\r\n`{\"ACTION\":\"BASE\"}`\r\n`{\"ACTION\":\"GPS\",`\r\n`{\"ACTION\":\"FLAG\"}`\r\n`{\"ACTION\":\"GPS\",`\r\n`{\"ACTION\":\"GPS\",\"LOCATION\":\"35.12113808,-89.93849768\"}`\r\n  \r\n## User 3\r\n`{\"ACTION\":\"HELLO\",\"USERNAME\":\"dorito\",\"BLUETOOTH\":\"13:40:f3:97:28:9e\"}`\r\n`{\"ACTION\":\"LOBBY\"}` \r\n\r\nLicense\r\n-------\r\nCopyright (c) Andrew Hood 2014. All rights reserved.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}